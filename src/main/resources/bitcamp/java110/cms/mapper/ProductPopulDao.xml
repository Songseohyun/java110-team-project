<?xml version="1.0" encoding="UTF-8"?>

<!-- BigTagDao 클래스가 사용할 SQL이 들어 있는 파일 -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bitcamp.java110.cms.dao.ProductPopulDao">

    <resultMap type="productPopul" id="productPopulMap">
        <id column="ppno"        property="no"/>
        <result column="ptno"   property="ptno"/>
        <result column="ptno"   property="product.no"/>
        <result column="titl"   property="product.titl"/>
        <result column="pric"   property="product.pric"/>
        <result column="phot"   property="product.phot"/>
    </resultMap>
    
    <select id="findAll" resultMap="productPopulMap">
        select
            popul.ppno,
            popul.ptno,
            p.titl,
            p.pric,
            p.phot
        from
            p_prdt_popul popul
            join p_prdt p
        ON
            popul.ptno=p.ptno
        order by
            ppno DESC
    </select>
</mapper>
